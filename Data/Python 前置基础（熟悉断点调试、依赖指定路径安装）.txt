噢大家好
欢迎大家参加书生普语大模型实战营第四期
本节课为实战零基础部分的Python全职基础课程
我是本节课的主讲人胡朝成
那Python前置基础课程的话
还是以大家看文档自学为主
在视频里的话
我会带大家过一下我们的文档以及任务要求好
首先是看我们最核心的文档部分
那我们直接跳到GITHUB上来看我们的原文档
那我们的文档主要分为六个章节
第一章是康达的虚拟环境管理
第二章是使用pip卷安装我们Python的三方依赖
第三章呢是使用vs code
就本地的vs code连接我们的远程的开发机
第四章呢是教大家一家如何去使用vs code
进行一个Python的debug
然后这边的话也会介绍各种各样的端点
第五章的话是介绍如何使用Python
调用我们书生普语的API
第六章比较特殊
它会单独起一个文件
这边的话是简单的罗列了一下Python的基础语法
好那整个文档或者说整个课程的核心呢
是想让大家熟悉我们的开发环境
熟悉Python环境与包的一个管理
熟悉Python debug的一个流程
好接下来我们来看我们的闯关任务
那本期实战营Python关卡的闯关任务呢
主要是有两个
第一个是完成我们it code的383属进性
这道EZ的算法题
然后需要提交你let it code通过的截图
以及你通过的那个代码
那任务二的话会比较特殊一点
我们到task任务额
就是任务的markdown文件里给大家说
啊在任务二的话
我们是提供了一段调用书生普语API
实现
从非结构化文本里提取
结构化JSON数据的一个例子
那这当中会有一个小bug
导致我们这段代码其实是会报错的
请大家自行通过第八个功能定位到报错原因
并做修正
注意这边的话是需要大家填写自己的这个API
K的
也是想让大家熟悉一下
用Python去调用我们出生普语API的一个过程吧
然后这里的话是提交作业的时候
是需要有第八个过程的一个图文笔记
以及你修改过后的一个代码
另外的话还有一个可选的任务
就是让大家使用pip
去将我们的包安装到指定目录
好回到我们的PPT
那在闯关任务提交这一块的话
大家还有几个需要注意的点
就是完成闯关任务前
一定要仔细阅读我们的任务说明
不要去遗漏掉任务
然后我们所有的闯关作业
都需要写成笔记的形式
用图文记录你完成作业的这个过程
然后发布到知乎4S店
GITHUB等任意公开媒体
那以上就是我对本节课内容的一个全部介绍
好的
接下来我带大家简单过一下
我们Python debug的一个流程
那在开始前呢
你需要确认好你有没有安装好Python的一个插件
以及有没有配置好我们的debug的一个launch
JASON的那个配置文件
这一块的话都在我们的文档里有
也比较简单
大家跟着做就行
然后我们提供了demo的话
是实现了一个累加函数
就是从start一直加到I
注意这里and因为Python range这个函数的原因
所以and是不包括的
好接下来开始第八个
我们在第四行记里实现加法
这里打上一个普通的断点
当然在最后也就是返回结果的时候
也可以打上一个断点好
接下来开始debug
好的我们现在已经启动了我们第八个
然后就可以看到我们第八个的一个控制台
那最左边的就是这个continue
就是直接运行到下一个断点
第二个是step over
就是一行一行的运行代码
但是不进入这一行代码
那step into其实跟step over有点像
但是当你当前代码有嵌套的
用其他代码的时候
它会进入到你调用的那些
但按函数的明细里取
那step out
就是说你如果进入到一个嵌套的函数里的时候
你可以通过这个跳出来
那后面的这个restart就是重启
那stop就是停止我们的一个debug
Ok
那此时我们在左边就可以看到当前所有的变量
这里是局部变量
那这里的话就是一些全局变量啊
此时我们的start是一
and是十
I是一
然后我们的结果因为还没有加
所以他就是零
那首先我们先运行
一行
此时我们的race加上了一变成了一
OK接下来我就不逐行演示了
就直接一个一个断点跳
大家可以注意左边这些变量的一个变化
好此时我们就运行完了整个代码
然后最后输出的结果是45
好除了刚刚那个普通的断点以外
我们还会给大家介绍一下条件断点
那条件断点的创建方法很简单
就是在创建断点的时候
我们选择右键添加条件断点啊
这里我们也看到四种条件断点
第一种是表达式
第二种是hit count
就是触发技术
第三种呢是log message
第四种是wait for breakpoint
就是等待另一个端点
这一个的话我们在这边不会过多的去介绍它
那首先我们来看表达式断点
表达式断点的话就是咳
当你这个表达式的值为true的时候
他就会触发这个断点
比如说我们想让I等于N减一的时候
就是在呃我们这个循环的最后一步的时候
停下来啊
OK我们现在保存这个断点
然后运行我们的debug
好此时就可以看到我们这个断点停下来的地方
I已经等于九了
这也是我们整个循环的最后一步
那停下来我们还有其他的条件断点可以选择
比如说我们想使用这个触发技术
触发技术的话
就是当我们这个这一行的代码
出发达到多少次以后
那这个断点才会被触发
然后程序才会停下来
比如说我们想让他触发五次以后停下
然后我们可以运行这个debug
可以看到此时程序停下来的地方就是I等于五
这也是我们刚好
整个for循环运行到第五步的时候
好那最后一个条件断点呢是一个
我们就把它删了
最后一个条件断点呢其实是一个log message断点
其实更像一个log断点吧
就是你可以在这边记录
你想让他输出
你想让它输出的东西
好那最后一个要介绍的断点呢就是我们的log message
断点就是它可以在该断点触发的时候输出
你想让他输出的东西
比如说在这边我想让他每一次触发的时候
都输出我们当前的I的值
注意这边大括号里面的内容
它是会被Python解释器去解释的
就是你可以引用到Python当中的代码当中的一些值
OK接下来我们运行我们的debug
只是你可以看到其实它运行完了整个代码
注意它这边的这个lock message
它的输出不是在我们的终端当中
而是在我们的debug console中
可以看到他输出了完整的1~9
好
最后要给大家演示的就是如何去使用我们的Python
调用我们出生普语的API
这边的话我是使用了OpenAI的这个SDK来调用
这里的话主要是想给大家演示一下
如何去使用环境变量配置我们的这个APIK
这样的话
我们可以最大限度上的
避免我们API泄露的这种风险
好这里的话我是已经复制好了我的API token
在这边就是我们需要通过这一行代码
Export api
K等于这个我们的token
来创建我们的这个环境变量
回车OK
此时我们的APIK已经配置完了
然后因为这种方法只是对当前的终端有效
所以我们必须在当前的终端当中运行
运行我们的Python代码
可以看到运行成功了
我们得到了我们模型的一个输出